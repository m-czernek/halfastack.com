<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
	<head>
		<link href="css/bootstrap.css" rel="stylesheet" type="text/css"/>
		<link href="css/custom.css" rel="stylesheet" type="text/css"/>
	</head> 
    <body>
    	<div class="container-fluid"> 
    		<h1>Library app</h1>
    		<h:form>
    			<p>Please enter the book author's name</p>
    			<div class="row" style="margin-bottom: 20px;">
    				<div class="col-sm-4">
					<h:inputText type="text" class="form-control" a:placeholder="Enter first name" id="firstName" value="#{facesController.firstName}"/>
					<h:message for="firstName" />
				</div>
				<div class="col-sm-4">
					<h:inputText  type="text" class="form-control" a:placeholder="Enter surname" id="surname" value="#{facesController.surname}"/>
					<h:message for="surname" />
				</div>
			</div>
			<p>Or enter the title of the book</p>
			<div class="row" style="margin-bottom: 20px;">
				<div class="col-sm-4">
					<h:inputText  type="text" class="form-control" a:placeholder="Enter book title" id="title" value="#{facesController.title}"/>
					<h:message for="title" />
				</div>
			</div>
			<div class="space-inputs">
				<h:selectOneRadio id="method" value="#{facesController.method}">
	   				<f:selectItem itemValue="author" itemLabel="By author" />
	   				<f:selectItem itemValue="title" itemLabel="By title" />
				</h:selectOneRadio>
			</div>
			<h:message for="method" errorClass="label label-danger" />
			<br/>
			
			<h:commandButton action="#{facesController.find()}" value="Find" class="btn btn-primary btn-lg" style="margin-top: 20px;" />
    		</h:form>
    		<br/>

		<ul>
			<ui:repeat value="#{facesController.books}" var="book">
				<li> Author: #{book.author.firstName}</li>
				<li>Title: #{book.title}</li>
				<li>Is available: #{book.available ? 'Yes' : 'No'}</li>
				<br/>
			</ui:repeat>
		</ul>
		
		<h:panelGroup rendered="#{empty facesController.books}">
    			<p>#{facesController.result}</p>
		</h:panelGroup>
		</div>
</body>
</html>